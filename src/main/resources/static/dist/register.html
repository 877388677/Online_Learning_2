<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Register</title>
    <link rel="stylesheet" href="./vendor/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" href="./vendor/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
<div class="page-wrapper flex-row align-items-center">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-5">
                <div class="card p-4">
                
               <div class="card-header text-center text-uppercase h4 font-weight-light">
                        Register
                    </div>

                    <div class="card-body py-5">
                    
                    
                      <form  action="http://localhost:8080/user/register" method="post" class="form">       
              
                  
                    	<div class="form-group">
                            <label class="form-control-label">Name</label>
                            <input type="text" name="username" placeholder="用户名" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-control-label">Password</label>
                            <input type="password" name="password" placeholder="密码" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-control-label">Confirm Password</label>
                            <input type="password" name="password1" placeholder="确认密码" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-control-label">Gender</label>
                            <input type="text" name="gender" placeholder="性别" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-control-label">Age（请选填1-120之间）</label>
                            <input type="text" name="age" placeholder="年龄" class="form-control">
                        </div>
                        <div class="form-group">
                            <label class="form-control-label">User Type（1-管理员 2-教师 3-学生）</label>
                            <input type="text" name="type" placeholder="用户类别" pattern="[1-3]" class="form-control">
                        </div>
                                </form>     
 
                    </div>
                    
                        <div class="card-footer">
	                        <button type="submit" onclick="reg()" class="btn btn-success btn-block">Create Account</button>
	                    </div>
                     
                
                </div>
            </div>
        </div>
    </div>
</div>
<script src="./vendor/jquery/jquery.min.js"></script>
<script type="text/javascript">
	function reg(){								//登录函数
		var username = $("#username").val();
		var password = $("#password").val();
		var password1 = $("#password1").val();
		var gender = $("#gender").val();
		var age = $("#age").val();
		var type = $("#type").val();

		if (username == "" || password == "" || password1 == "") {
			alert("用户名或密码不能为空");
			return;
		}
	
		
		
		$.ajax({
			type:"post",
			url:"http://localhost:8080/user/register",
			data: {
				
				"username": username,
				"password": password,
				"gender": gender,
				"age": age,
				"type": type
			},
			dataType:'json',
			success:function (data) {
				
				console.log("data:"+data);
				alert("成功");
				window.location.href = "/dist/OnlineLearningIndex.html";
			},
			 error:function (data) {
				console.log("data:"+data);
				alert(" 注册失败 ");
	//		
			} 
		});
	}


</script>


<script src="./vendor/popper.js/popper.min.js"></script>
<script src="./vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="./vendor/chart.js/chart.min.js"></script>
<script src="./js/carbon.js"></script>
<script src="./js/demo.js"></script>
</body>
</html>
