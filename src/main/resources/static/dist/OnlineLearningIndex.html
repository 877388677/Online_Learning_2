<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>无知在线学习平台</title>
    <link rel="stylesheet" href="./vendor/simple-line-icons/css/simple-line-icons.css">
    <link rel="stylesheet" href="./vendor/font-awesome/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="./css/styles.css">
	<link rel="stylesheet" href="./css/style_yang.css">
	<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/css/bootstrap.min.css">
<style>
  .carousel-inner img {
      width: 100%;
      height: 100%;
  }
</style>

</head>
<body class="sidebar-fixed header-fixed">
<div class="page-wrapper">
    <nav class="navbar page-header">
        <a href="#" class="btn btn-link sidebar-mobile-toggle d-md-none mr-auto">
            <i class="fa fa-bars"></i>
        </a>

        <a class="navbar-brand" href="#">
            <img src="./imgs/logo.png" alt="logo">
        </a>

        <a href="#" class="btn btn-link sidebar-toggle d-md-down-none">
            <i class="fa fa-bars"></i>
        </a>

        <ul class="navbar-nav ml-auto">
            <li class="nav-item d-md-down-none">
                <a href="#">
                    <i class="fa fa-bell"></i>
                    <span class="badge badge-pill badge-danger">5</span>
                </a>
            </li>

            <li class="nav-item d-md-down-none">
                <a href="#">
                    <i class="fa fa-envelope-open"></i>
                    <span class="badge badge-pill badge-danger">5</span>
                </a>
            </li>

            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img src="./imgs/avatar-1.png" class="avatar avatar-sm" alt="logo">
                    <span class="small ml-1 d-md-down-none" id="this">  </span>
                </a>

                <div class="dropdown-menu dropdown-menu-right">
                    <div class="dropdown-header">Account</div>

                    <a href="#" class="dropdown-item">
                        <i class="fa fa-user"></i> Profile
                    </a>

                    <a href="#" class="dropdown-item">
                        <i class="fa fa-envelope"></i> Messages
                    </a>

                    <div class="dropdown-header">Settings</div>

                    <a href="#" class="dropdown-item">
                        <i class="fa fa-bell"></i> Notifications
                    </a>

                    <a href="#" class="dropdown-item">
                        <i class="fa fa-wrench"></i> Settings
                    </a>

                    <a href="#" class="dropdown-item">
                        <i class="fa fa-lock"></i> Logout
                    </a>
                </div>
            </li>
        </ul>
    </nav>

    <div class="main-container">
        <div class="sidebar">
            <nav class="sidebar-nav">
                <ul class="nav">
                    <li class="nav-title">Navigation</li>

                    <li class="nav-item">
                        <a href="index.html" class="nav-link">
                            <i class="icon icon-speedometer"></i> Dashboard
                        </a>
                    </li>

                    <li class="nav-item nav-dropdown">
                        <a href="#" class="nav-link nav-dropdown-toggle">
                            <i class="icon icon-target"></i> Layouts <i class="fa fa-caret-left"></i>
                        </a>

                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a href="layouts-normal.html" class="nav-link">
                                    <i class="icon icon-target"></i> Normal
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="layouts-fixed-sidebar.html" class="nav-link">
                                    <i class="icon icon-target"></i> Fixed Sidebar
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="layouts-fixed-header.html" class="nav-link">
                                    <i class="icon icon-target"></i> Fixed Header
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="layouts-hidden-sidebar.html" class="nav-link">
                                    <i class="icon icon-target"></i> Hidden Sidebar
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item nav-dropdown">
                        <a href="#" class="nav-link nav-dropdown-toggle">
                            <i class="icon icon-energy"></i> UI Kits <i class="fa fa-caret-left"></i>
                        </a>

                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a href="alerts.html" class="nav-link">
                                    <i class="icon icon-energy"></i> Alerts
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="buttons.html" class="nav-link">
                                    <i class="icon icon-energy"></i> Buttons
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="cards.html" class="nav-link">
                                    <i class="icon icon-energy"></i> Cards
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="modals.html" class="nav-link">
                                    <i class="icon icon-energy"></i> Modals
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="tabs.html" class="nav-link">
                                    <i class="icon icon-energy"></i> Tabs
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="progress-bars.html" class="nav-link">
                                    <i class="icon icon-energy"></i> Progress Bars
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="widgets.html" class="nav-link">
                                    <i class="icon icon-energy"></i> Widgets
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item nav-dropdown">
                        <a href="#" class="nav-link nav-dropdown-toggle">
                            <i class="icon icon-graph"></i> Charts <i class="fa fa-caret-left"></i>
                        </a>

                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a href="chartjs.html" class="nav-link">
                                    <i class="icon icon-graph"></i> Chart.js
                                </a>
                            </li>
                        </ul>
                    </li>

                    <li class="nav-item">
                        <a href="forms.html" class="nav-link">
                            <i class="icon icon-puzzle"></i> Forms
                        </a>
                    </li>

                    <li class="nav-item">
                        <a href="tables.html" class="nav-link">
                            <i class="icon icon-grid"></i> Tables
                        </a>
                    </li>

                    <li class="nav-title">More</li>

                    <li class="nav-item nav-dropdown">
                        <a href="#" class="nav-link nav-dropdown-toggle">
                            <i class="icon icon-umbrella"></i> Pages <i class="fa fa-caret-left"></i>
                        </a>

                        <ul class="nav-dropdown-items">
                            <li class="nav-item">
                                <a href="blank.html" class="nav-link active">
                                    <i class="icon icon-umbrella"></i> Blank Page
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="login.html" class="nav-link">
                                    <i class="icon icon-umbrella"></i> Login
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="register.html" class="nav-link">
                                    <i class="icon icon-umbrella"></i> Register
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="invoice.html" class="nav-link">
                                    <i class="icon icon-umbrella"></i> Invoice
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="404.html" class="nav-link">
                                    <i class="icon icon-umbrella"></i> 404
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="500.html" class="nav-link">
                                    <i class="icon icon-umbrella"></i> 500
                                </a>
                            </li>

                            <li class="nav-item">
                                <a href="settings.html" class="nav-link">
                                    <i class="icon icon-umbrella"></i> Settings
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </div>
			

        <div class="content">
			 
			<ul class="top_ul">
			  <li class="top_li"><a class="active" href="http://localhost:8080/dist/OnlineLearningIndex.html">主页</a></li>
			  <li class="top_li"><a href="http://localhost:8080/dist/findAllCourse.html">所有课程</a></li>
			  <li class="top_li"><a href="http://localhost:8080/dist/findAllTeacher.html">名师堂</a></li>
			   <li class="top_li"><a href="http://localhost:8080/dist/findAllNotices.html">公告</a></li>
			  <li class="top_li"><a href="http://localhost:8080/dist/findAllNotices.html">关于</a></li>	
				<div style="float:right;  margin-top: 5px">
					<input type="text" class="notice_input" id="keyword" placeholder="搜索课程"  />
					<button type="button" onclick="findKeywords()" class="btn btn-primary"><i class="fa fa-search"></i> Search</button>
				</div>
			</ul>
			
			<div id="demo" class="carousel slide" data-ride="carousel">
 
  <!-- 指示符 -->
  <ul class="carousel-indicators">
    <li data-target="#demo" data-slide-to="0" class="active"></li>
    <li data-target="#demo" data-slide-to="1"></li>
    <li data-target="#demo" data-slide-to="2"></li>
  </ul>
 
  <!-- 轮播图片 -->
  <div class="carousel-inner" style="background-color: beige">
    <div class="carousel-item active">
      <img style="height: 300px ; width: 700px ; margin-left: 170px" src="imgs/index1.jpg">
      <div class="carousel-caption">
        <h3>无知在线学习平台</h3>
        <p>欢迎您的光临！</p>
      </div>
    </div>
    <div class="carousel-item">
      <img style="height: 300px; width: 700px ; margin-left: 170px" src="imgs/index2.jpg">
      <div class="carousel-caption">
        <h3>无知在线学习平台</h3>
        <p>欢迎您的光临！</p>
      </div>
    </div>
    <div class="carousel-item">
      <img style="height: 300px; width: 700px ; margin-left: 170px" src="imgs/index3.jpg">
      <div class="carousel-caption">
        <h3>无知在线学习平台</h3>
        <p>欢迎您的光临！</p>
      </div>
    </div>
  </div>
 
  <!-- 左右切换按钮 -->
  <a class="carousel-control-prev" href="#demo" data-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </a>
  <a class="carousel-control-next" href="#demo" data-slide="next">
    <span class="carousel-control-next-icon"></span>
  </a>
 
</div>

		<!-- 公告跑马灯 -->	
			<marquee id="affiche" 
					 align="left" 
					 behavior="scroll"
					 bgcolor="#C8C8C8 " 
					 direction="left" 
					 height="30" width="100%" 
					 hspace="0"  vspace="30" 
					 loop="-1" 
					 scrollamount="5" 
					 scrolldelay="100" 
					 onMouseOut="this.start()" 
					 onMouseOver="this.stop()"> 
			
			<div id="findNoticesName"></div>

			</marquee>
			
			
			<br>
			
			<!-- 图片展示课程 -->
			<h2 style="text-align:left">精品课程</h2>
			<br>
		<div id="allcourse" style="width: 100% ; height: 340px">
				<div class="responsive">
				  <div class="img">
					  <a target="_blank"  href="http://www.baidu.com">
					 	 <img style=" height:220px" src="imgs/course2.jpg">
					  </a>
					<div class="desc">Add a description of the image here</div>
				  </div>
				</div>


			<div class="responsive">
			  <div class="img">
				  <a target="_blank"  href="http://www.baidu.com">
				  	<img style=" height:220px" src="imgs/course4.jpg">
				  </a>
				<div class="desc">Add a description of the image here</div>
			  </div>
			</div>

			<div class="responsive">
			  <div class="img">
				<a target="_blank"  href="http://www.baidu.com">
				  <img style=" height:220px" src="imgs/course1.jpg">
				</a>
				<div class="desc">Add a description of the image here</div>
			  </div>
			</div>

			<div class="responsive">
			  <div class="img">
				<a target="_blank" href="http://www.baidu.com">
				  <img  style=" height:220px" src="imgs/course3.jpg">
				</a>
				<div class="desc">Add a description of the image here</div>
			  </div>
			</div>
			
</div>		
			
			<!-- 展示框 -->
		 <div class="col-md-6 mb-4 col-lg-12">
                    <ul class="nav nav-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-toggle="tab" href="#home" role="tab" aria-controls="home">Home</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#profile" role="tab" aria-controls="profile">Profile</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#messages" role="tab" aria-controls="messages">Messages</a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div class="tab-pane active" id="home" role="tabpanel">
                            1. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                        </div>

                        <div class="tab-pane" id="profile" role="tabpanel">
                            2. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
                        </div>

                        <div class="tab-pane" id="messages" role="tabpanel">
                            3. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi 
                        </div>
                    </div>
                </div>	
		 
    </div>
</div>	
<script type="text/javascript">
function getCookie(c_name){  
	if (document.cookie.length>0){
		c_start=document.cookie.indexOf(c_name + "=")
	    if (c_start!=-1){ 
	    	c_start=c_start + c_name.length+1 
	    	c_end=document.cookie.indexOf(";",c_start)
	   		if (c_end==-1) c_end=document.cookie.length
	    	return unescape(document.cookie.substring(c_start,c_end))
	    } 
	} 
	return ""
}

function findallnotices(){
	username=getCookie('username');
	console.log("user"+username);
	$.ajax({
		type: "GET",
        url: "http://localhost:8080/notices/findAllNotices/",
		dataType:"json",
		success: function(data){
			var jsonObj = data;
		    console.log("data:"+data);	  
		    var html="";
			for(var item in jsonObj.data){
				var id=jsonObj.data[item].id;
				var noticename = jsonObj.data[item].noticename;
				var time = jsonObj.data[item].time;
				var upname = jsonObj.data[item].upname;
				var description = jsonObj.data[item].description;
				html+="<a href='http://localhost:8080/dist/findAllNotices.html'>";
				html+="   ****"+noticename+"****         "; 
				html+="</a>"
			}
		    var html1=username+"，你好" ;
			$("#this").html(html1);
			$("#findNoticesName").html(html);
		},
		error:function(){
			alert("error");
		}
		 
	});
		
}
window.onload=findallnotices;

window.onload=function(){findallnotices();findid();}

//设置Cookie
function setCookie(c_name,value,expiredays){
	var exdate=new Date()
	exdate.setDate(exdate.getDate()+expiredays)
	document.cookie=c_name+ "=" +escape(value)+((expiredays==null) ? "" : ";expires="+exdate.toGMTString())
}

//取得Cookie
function getCookie(c_name)
{  
 if (document.cookie.length>0)
  {
  c_start=document.cookie.indexOf(c_name + "=")
  if (c_start!=-1)
    { 
    c_start=c_start + c_name.length+1 
    c_end=document.cookie.indexOf(";",c_start)
    if (c_end==-1) c_end=document.cookie.length
    return unescape(document.cookie.substring(c_start,c_end))
    } 
  } 
return ""
}

function findid(){
	var user = getCookie('username');
	console.log("usern:"+username);

	$.ajax({
		type:"get",
		url:"http://localhost:8080/user/findAllUser",
		dataType:"json",
		data:{

		},
		success:function(data){
	//		var  id1 = 0;
			var jsonObj = data;
			console.log("data:"+jsonObj.message);
			for(var item in jsonObj.data){
				var id=jsonObj.data[item].id;
				var username1=jsonObj.data[item].username;
				console.log("id:"+id+"::u1:"+username1+"=====u:"+user);
				if(user==username1){
					setCookie('userId',id,365);
				}
			}
		},
		error:function(data){
			console.log("error"+data.message);
		}
		
	});
}

function refresh(){
	  
    url = location.href;
 
    console.log(url);
    var once = url.split("#");
 
    if (once[1] != 1) {
 
        url += "#1";
 
        self.location.replace(url);
 
        window.location.reload();
 
    }
}
 
setTimeout('refresh()', 500);
</script>	

<script src="./vendor/jquery/jquery.min.js"></script>
<script src="./vendor/popper.js/popper.min.js"></script>
<script src="./vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="./vendor/chart.js/chart.min.js"></script>
<script src="./js/carbon.js"></script>
<script src="./js/demo.js"></script>
<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdn.staticfile.org/popper.js/1.12.5/umd/popper.min.js"></script>
<script src="https://cdn.staticfile.org/twitter-bootstrap/4.1.0/js/bootstrap.min.js"></script>
</body>
</html>
